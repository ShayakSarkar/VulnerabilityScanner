let port=4200
fs=require("fs")
http=require("http")
url=require("url")
function searchByName(name){
	try{
		let rawData=fs.readFileSync('JsonDatabase/'+name[0].toUpperCase()+'.json')
		let nameUpper=name.toUpperCase()
		let rootObj=JSON.parse(rawData)
		for(let product of rootObj.products){
			if(product.name.toUpperCase().indexOf(nameUpper)!=-1)
				return product
		}
		return null
	}
	catch(e){
		console.log("Error Found... ;)")
	}
}
function process(jsonObj){
	console.log('processed jsonObj')
	return jsonObj
}
let server=http.createServer((req,res)=>{
	let queryString=url.parse(req.url,true)
	console.log(queryString.query['input1'])
	let jsonObj=searchByName(queryString.query['input1'])
	let processedObj=process(jsonObj)
	res.end(JSON.stringify(processedObj))
}).listen(port,()=>console.log('Bound on port ',port))




		
	
		
